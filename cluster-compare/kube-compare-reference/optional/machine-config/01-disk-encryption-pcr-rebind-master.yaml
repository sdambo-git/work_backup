# Automatically generated by extra-manifests-builder
# Do not make changes directly.
apiVersion: machineconfiguration.openshift.io/v1
kind: MachineConfig
metadata:
  labels:
    machineconfiguration.openshift.io/role: master
  name: 01-disk-encryption-rebind-master
spec:
  config:
    ignition:
      version: 3.2.0
    storage:
      files:
      - contents:
          source: data:text/plain;charset=utf-8;base64,IyEvYmluL2Jhc2gKc2V0IC1vIGVycmV4aXQgLW8gbm91bnNldCAtbyBwaXBlZmFpbAoKQ0xFVklTPWNsZXZpcwpMU0JMSz1sc2JsawpERUJVRz0idHJ1ZSIKUkVTRVJWRURfU0xPVD0zMQpDTEVWSVNfQ09ORklHX1JFU0VSVkVEX1NMT1Q9IiRSRVNFUlZFRF9TTE9UOiB0cG0yICd7XCJoYXNoXCI6XCJzaGEyNTZcIixcImtleVwiOlwiZWNjXCJ9JyIKVFJVRT0wCkZBTFNFPTEKCiNzZXQgLXgKCiMgbG9nIGZ1bmN0aW9uLiBUYWtlcyAyIGFyZ3VtZW50czoKIyBsb2cgbGV2ZWw6IGRlYnVnIG9yIGluZm8KIyBzdHJpbmcgdG8gcHJpbnQKbG9nKCkgewoJbG9jYWwgbG9nTGV2ZWwgbG9nVGV4dAoKCWxvZ0xldmVsPSIkMSIKCWxvZ1RleHQ9IiQyIgoJY2FzZSAkbG9nTGV2ZWwgaW4KCSJkZWJ1ZyIpCgkJZWNobyAiREVCVUcgLSAkbG9nVGV4dCIgPiYyCgkJOzsKCSJpbmZvIikKCQllY2hvICJJTkZPIC0gJGxvZ1RleHQiID4mMgoJCTs7CgkqKQoJCSMgQ29kZSB0byBleGVjdXRlIHdoZW4gbm8gcGF0dGVybnMgbWF0Y2gKCQk7OwoJZXNhYwp9CgojIGxvZ3MgYSBzdHJpbmcgd2l0aCBhIGRlYnVnIGxldmVsCmxvZ0RlYnVnKCkgewoJbG9jYWwgbG9nVGV4dD0iJDEiCglpZiAhIFsgLXYgREVCVUcgXSB8fCB7IFsgLXYgREVCVUcgXSAmJiBbICIkREVCVUciID09ICJ0cnVlIiBdOyB9OyB0aGVuCgkJbG9nICJkZWJ1ZyIgIiRsb2dUZXh0IgoJZmkKfQoKIyBsb2dzIGEgc3RyaW5nIHdpdGggYSBpbmZvIGxldmVsCmxvZ0luZm8oKSB7Cglsb2NhbCBsb2dUZXh0CgoJbG9nVGV4dD0iJDEiCglsb2cgImluZm8iICIkbG9nVGV4dCIKfQoKIyByZXR1cm4gJFRSVUUgaWQgdGhlIHRlbXBvcmFyeSByZXNlcnZlZCBzbG90IGlzIGNvbmZpZ3VyZWQgd2l0aCBhIGtleSAodG8gZGlzYWJsZSBQQ1IgcHJvdGVjdGlvbiksIHJldHVybnMgJEZBTFNFIG90aGVyd2lzZQppc1Jlc2VydmVkU2xvdFByZXNlbnQoKSB7Cglsb2NhbCBkZXZpY2VQYXRoCgoJZGV2aWNlUGF0aD0iJDEiCglSRVNVTFQ9JCgkQ0xFVklTIGx1a3MgbGlzdCAtZCAiJGRldmljZVBhdGgiIC1zICRSRVNFUlZFRF9TTE9UIHx8IHRydWUpCglpZiBbIC1uICIkUkVTVUxUIiBdICYmIFsgIiRSRVNVTFQiID09ICIkQ0xFVklTX0NPTkZJR19SRVNFUlZFRF9TTE9UIiBdOyB0aGVuCgkJbG9nRGVidWcgInJlc2VydmVkIHNsb3QgJFJFU0VSVkVEX1NMT1QgaXMgcHJlc2VudCIKCQlyZXR1cm4gJFRSVUUKCWZpCglsb2dEZWJ1ZyAicmVzZXJ2ZWQgc2xvdCAkUkVTRVJWRURfU0xPVCBpcyBub3QgcHJlc2VudCIKCXJldHVybiAkRkFMU0UKfQoKIyBjcmVhdGUgYSB0ZW1wb3Jhcnkga2V5IGluIHRoZSByZXNlcnZlZCBzbG90IHRvIGRpc2FibGUgUENSIHByb3RlY3Rpb24KYWRkUmVzZXJ2ZWRTbG90KCkgewoJbG9jYWwgcmVzZXJ2ZWRTbG90UHJlc2VudCBkZXZpY2VQYXRoIHNsb3QgcGNySURzIGNsZXZpc0NvbmZpZwoKCXJlc2VydmVkU2xvdFByZXNlbnQ9IiQxIgoJZGV2aWNlUGF0aD0iJDIiCglzbG90PSIkMyIKCXBjcklEcz0iJDQiCgljbGV2aXNDb25maWc9IiQ1IgoJbG9nSW5mbyAicmVzZXJ2ZWRTbG90UHJlc2VudD0kcmVzZXJ2ZWRTbG90UHJlc2VudCBkZXZpY2U9JGRldmljZVBhdGggc2xvdD0kc2xvdCB3aXRoIFBDUiBJRHM9JHBjcklEcyBhbmQgJENMRVZJUyBjb25maWc9JGNsZXZpc0NvbmZpZyIKCWlmIFsgIiRyZXNlcnZlZFNsb3RQcmVzZW50IiA9PSAiJFRSVUUiIF07IHRoZW4KCQlsb2dJbmZvICJyZXNlcnZlIHNsb3QgYWxyZWFkeSBwcmVzZW50LCBubyBuZWVkIHRvIGFkZCBhZ2FpbiIKCQkkQ0xFVklTIGx1a3MgbGlzdCAtZCAiJGRldmljZVBhdGgiIHx8IHRydWUKCQlyZXR1cm4KCWZpCglsb2dJbmZvICJhZGRpbmcgcmVzZXJ2ZWQgc2xvdCBvbiBkZXZpY2U9JGRldmljZVBhdGgiCglBTllQQVNTPSQob3BlbnNzbCByYW5kIC1iYXNlNjQgMjEpCgllY2hvIC1lICIkQU5ZUEFTU1xuIiB8ICRDTEVWSVMgbHVrcyBiaW5kIC1zICRSRVNFUlZFRF9TTE9UIC1kICIkZGV2aWNlUGF0aCIgdHBtMiAne30nIHx8IHRydWUKCSRDTEVWSVMgbHVrcyBsaXN0IC1kICIkZGV2aWNlUGF0aCIgfHwgdHJ1ZQp9CgojIHJlbW92ZSB0aGUgdGVtcG9yYXJ5IGtleSBpbiB0aGUgcmVzZXJ2ZWQgc2xvdCB0byBlbmFibGUgUENSIHByb3RlY3Rpb24KcmVtb3ZlUmVzZXJ2ZWRTbG90KCkgewoJbG9jYWwgZGV2aWNlUGF0aAoKCWRldmljZVBhdGg9IiQxIgoJbG9nSW5mbyAicmVtb3ZpbmcgbHVrcyByZXNlcnZlZCBzbG90IDMxIGluIGRpc2sgJGRldmljZVBhdGgiCgkjIGRvIG5vdCBjaGFuZ2UgdGhpcyBsaW5lLiBUaGVyZSBpcyBhIHZlcnkgd2VpcmQgYmVoYXZpb3Igd2hlcmUgdmFyaWFibGUgCgkjIHN1YnN0aXR1dGlvbiBkb2VzIG5vdCB3b3JrIGZvciB0aGUgY2xldmlzIGx1a3MgdW5iaW5kIGNvbW1hbmQKCWVjaG8gInN1ZG8gJENMRVZJUyBsdWtzIHVuYmluZCAtcyAkUkVTRVJWRURfU0xPVCAtZCAkZGV2aWNlUGF0aCAtZiIgfCBiYXNoIHx8IHRydWUKfQoKI2dldHMgdGhlIGxpc3Qgb2YgbHVrcyBkZXZpY2VzIGluIHRoZSBzeXN0ZW0KZ2V0TFVLU0RldmljZXMoKSB7Cglsb2NhbCByZXN1bHRzCglyZXN1bHRzPSQoJExTQkxLIC1vIE5BTUUsRlNUWVBFIC1sIHwgZ3JlcCBjcnlwdG9fTFVLUyB8IGF3ayAne3ByaW50ZiAiL2Rldi8iICQxICJ8In0nKQoJbG9nRGVidWcgImdvdCBsdWtzIGRldmljZXMgYWNyb3NzIGFsbCBkcml2ZXM6ICRyZXN1bHRzIgoJZWNobyAiJHJlc3VsdHMiCn0KCiMgY3JlYXRlIGEgbGlzdCBvZiBzbG90IGNvbmZpZ3VyYXRpb24gZm9yIGFsbCBlbmNyeXB0ZWQgZGV2aWNlcyBpbiB0aGUgc3lzdGVtCnBhcnNlQ2xldmlzQ29uZmlnKCkgewoJbG9jYWwgbHVrc0RldmljZXMgSUZTCgoJbHVrc0RldmljZXM9IiQxIgoJSUZTPSJ8IgoJZm9yIGRldmljZSBpbiAkbHVrc0RldmljZXM7IGRvCgkJbG9nRGVidWcgImRldmljZT0kZGV2aWNlIgoJCWlzUmVzZXJ2ZWRTbG90UHJlc2VudCAiJGRldmljZSIKCQlpc1Jlc2VydmVkPSIkPyIKCQlwY3JTbG90cz0kKGdldFBjclNsb3RzRm9yRGV2aWNlICIkZGV2aWNlIikKCQlsb2dEZWJ1ZyAicGNyU2xvdHM9JHBjclNsb3RzIgoJCXBhcnNlQ2xldmlzUmVnZXggIiRwY3JTbG90cyIgIiRpc1Jlc2VydmVkIiAiJGRldmljZSIKCWRvbmUKfQoKZ2V0UGNyU2xvdHNGb3JEZXZpY2UoKSB7Cglsb2NhbCBkZXZpY2VQYXRoCgoJZGV2aWNlUGF0aD0iJDEiCgoJbG9nRGVidWcgImdldFBjclNsb3RzRm9yRGV2aWNlLCBkZXZpY2U9JGRldmljZVBhdGgiCgkkQ0xFVklTIGx1a3MgbGlzdCAtZCAiJGRldmljZVBhdGgiIHwgZ3JlcCAtdiAiJFJFU0VSVkVEX1NMT1Q6IiB8IGdyZXAgcGNyX2lkcyB8fCB0cnVlCn0KCnBhcnNlQ2xldmlzUmVnZXgoKSB7Cglsb2NhbCBjbGV2aXNTbG90c091dHB1dFdpdGhQQ1IgaXNSZXNlcnZlZCBkZXZpY2VQYXRoIElGUwoKCWNsZXZpc1Nsb3RzT3V0cHV0V2l0aFBDUj0iJDEiCglpc1Jlc2VydmVkPSIkMiIKCWRldmljZVBhdGg9IiQzIgoJSUZTPSQnXG4nCglmb3IgbGluZSBpbiAkY2xldmlzU2xvdHNPdXRwdXRXaXRoUENSOyBkbwoJCWxvZ0RlYnVnICJsaW5lPSRsaW5lIgoJCWVjaG8gIiRsaW5lIiB8IHNlZCAtRSAnc0AoWzAtOV0rKSg6XHMrLiorXHMrJ1wnJykoXHspKC4qPyJwY3JfaWRzIjoiKShbXiJdKikoIi4qKSguKikoJ1wnJy4qKUAnIiRpc1Jlc2VydmVkIid8JyIkZGV2aWNlUGF0aCInfFwxfFw1fFwzXDRcNVw2XDdAJwoJZG9uZQp9CgojIGV4ZWN1dGVzIGEgZnVuY3Rpb24gcG9pbnRlciBwYXNzZWQgYXJndW1lbnQgImZ1bmN0aW9uVG9SdW4iIGZvciBlYWNoIHNsb3QgY29uZmlndXJlZCB3aXRoIFBDUiBhbmQKIyBmb3IgZXZlcnkgZGV2aWNlIGluIHRoZSBzeXN0ZW0KcHJvY2Vzc1BDUmVudHJpZXNPbmx5KCkgewoJbG9jYWwgbHVrc0RldmljZXMgcGFyc2VkQ2xldmlzIGZ1bmN0aW9uVG9SdW4KCWZ1bmN0aW9uVG9SdW49IiQxIgoJbHVrc0RldmljZXM9JChnZXRMVUtTRGV2aWNlcykKCXBhcnNlZENsZXZpcz0kKHBhcnNlQ2xldmlzQ29uZmlnICIkbHVrc0RldmljZXMiKQoKCWlmIFsgIiRwYXJzZWRDbGV2aXMiID09ICIiIF07IHRoZW4KCQlsb2dJbmZvICJubyBwY3IgY29uZmlnIGRldGVjdGVkLCBub3RoaW5nIHRvIGRvIGZvciAkZnVuY3Rpb25Ub1J1biIKCQlyZXR1cm4KCWZpCglsb2dJbmZvICJwYXJzZWQgY2xldmlzIGZvciBhbGwgZHJpdmVzOiAkcGFyc2VkQ2xldmlzIgoJZWNobyAiJHBhcnNlZENsZXZpcyIgfCB3aGlsZSBJRlM9IHJlYWQgLXIgbGluZTsgZG8KCQlsb2dEZWJ1ZyAiJGxpbmUiCgkJSUZTPSJ8IiByZWFkIC1yYSB2YWx1ZXMgPDw8IiRsaW5lIgoJCXJlc2VydmVkU2xvdFByZXNlbnQ9JHt2YWx1ZXNbMF19CgkJZGV2aWNlPSR7dmFsdWVzWzFdfQoJCXNsb3ROdW1iZXI9JHt2YWx1ZXNbMl19CgkJcGNySURzPSR7dmFsdWVzWzNdfQoJCWNsZXZpc0NvbmZpZz0ke3ZhbHVlc1s0XX0KCQlsb2dJbmZvICJyZXNlcnZlZFNsb3Q9JHJlc2VydmVkU2xvdFByZXNlbnQgZGV2aWNlPSRkZXZpY2Ugc2xvdD0kc2xvdE51bWJlciB3aXRoIFBDUiBJRHM9JHBjcklEcyBhbmQgY2xldmlzIGNvbmZpZz0kY2xldmlzQ29uZmlnIgoJCWlmIFsgLW4gIiRwY3JJRHMiIF07IHRoZW4KCQkJbG9nRGVidWcgImJlZm9yZSBhcHBseWluZyBjb21tYW5kOiAkKC91c3IvYmluL3RwbTJfcGNycmVhZCBzaGEyNTY6IiRwY3JJRHMiKSIKCQkJIiRmdW5jdGlvblRvUnVuIiAiJHJlc2VydmVkU2xvdFByZXNlbnQiICIkZGV2aWNlIiAiJHNsb3ROdW1iZXIiICIkcGNySURzIiAiJGNsZXZpc0NvbmZpZyIgfHwgdHJ1ZQoJCQlsb2dEZWJ1ZyAiYWZ0ZXIgYXBwbHlpbmcgY29tbWFuZDogJCgvdXNyL2Jpbi90cG0yX3BjcnJlYWQgc2hhMjU2OiIkcGNySURzIikiCgkJZmkKCWRvbmUKfQoKIyBpbml0aWFsaXplIHRoZSBhcnJheSBvZiB1cGdyYWRlIGRldGVjdGlvbiBtZXRob2RzIHNlcnZlclVwZGF0ZURldGVjdGlvbk1ldGhvZHMKaW5pdFVwZ3JhZGVEZXRlY3Rpb25NZXRob2RzKCkgewoJIyBzaGVsbGNoZWNrIHNvdXJjZT1od3VwZ3JhZGUtZGV0ZWN0aW9uLW1ldGhvZHMvZmlsZS5zaAoJZm9yIGYgaW4gIiRTQ1JJUFRfRElSIi9od3VwZ3JhZGUtZGV0ZWN0aW9uLW1ldGhvZHMvKi5zaDsgZG8gc291cmNlICIkZiI7IGRvbmUKCWxvZ0luZm8gImRldGVjdGVkIHN5c3RlbSB1cGdyYWRlIGRldGVjdGlvbiBwbHVnaW5zOiIKCWZvciBlbGVtZW50IGluICIke3NlcnZlclVwZGF0ZURldGVjdGlvbk1ldGhvZHNbQF19IjsgZG8gZWNobyAiJGVsZW1lbnQiOyBkb25lCn0KCiMgZXhlY3V0ZSBhbGwgaHcgdXBncmFkZSBkZXRlY3Rpb24gZnVuY3Rpb25zIGluIGh3dXBncmFkZS1kZXRlY3Rpb24tbWV0aG9kcyBkaXJlY3RvcnkKIyByZXR1cm5zIHRydWUgaWYgYSBodyB1cGdyYWRlIGlzIGRldGVjdGVkCiMgZmFsc2Ugb3RoZXJ3aXNlCmlzU3lzdGVtVXBkYXRpbmcoKSB7Cglsb2NhbCBpc1VwZGF0aW5nCgoJaXNVcGRhdGluZz0kRkFMU0UKCSMgSXRlcmF0ZSB0aHJvdWdoIHRoZSB1cGRhdGVkIGFycmF5IGFuZCBjYWxsIGVhY2ggZnVuY3Rpb24KCWZvciBmdW5jIGluICIke3NlcnZlclVwZGF0ZURldGVjdGlvbk1ldGhvZHNbQF19IjsgZG8KCQlpZiAkZnVuYzsgdGhlbgoJCQlpc1VwZGF0aW5nPSRUUlVFCgkJCWxvZ0luZm8gImRldGVjdGVkIHVwZGF0ZSB2aWEgJGZ1bmMiCgkJZWxzZQoJCQlsb2dJbmZvICJubyB1cGRhdGUgZGV0ZWN0ZWQgdmlhICRmdW5jIgoJCWZpCglkb25lCglyZXR1cm4gJGlzVXBkYXRpbmcKfQoKI3JlYmluZHMgYSBnaXZlbiBrZXkgc2xvdCB0aGF0IGlzIGNvbmZpZ3VyZWQgd2l0aCBQQ1IgZm9yIGEgZ2l2ZW4gZGV2aWNlCnJlYmluZFBDUmVudHJpZXNPbmx5KCkgewoJbG9jYWwgcmVzZXJ2ZWRTbG90UHJlc2VudCBkZXZpY2VQYXRoIHNsb3QgcGNySURzIGNsZXZpc0NvbmZpZwoKCXJlc2VydmVkU2xvdFByZXNlbnQ9IiQxIgoJZGV2aWNlUGF0aD0iJDIiCglzbG90PSIkMyIKCXBjcklEcz0iJDQiCgljbGV2aXNDb25maWc9IiQ1IgoKCWxvZ0luZm8gIlJlYmluZGluZyByZXNlcnZlZFNsb3RQcmVzZW50PSRyZXNlcnZlZFNsb3RQcmVzZW50IGRldmljZT0kZGV2aWNlUGF0aCBzbG90PSRzbG90IHdpdGggUENSIElEcz0kcGNySURzIGFuZCBjbGV2aXMgY29uZmlnPSRjbGV2aXNDb25maWciCgljbGV2aXMtbHVrcy1yZWdlbiAtZCAiJGRldmljZVBhdGgiIC1zICIkc2xvdCIgLXEgfHwgdHJ1ZQoJcmVtb3ZlUmVzZXJ2ZWRTbG90ICIkZGV2aWNlUGF0aCIKfQo=
        mode: 493
        path: /usr/local/bin/luks-helpers.sh
      - contents:
          source: data:text/plain;charset=utf-8;base64,IyEvYmluL2Jhc2gKc2V0IC1vIGVycmV4aXQgLW8gbm91bnNldCAtbyBwaXBlZmFpbAoKU0NSSVBUX0RJUj0kKGRpcm5hbWUgIiQwIikKc291cmNlICIkU0NSSVBUX0RJUiIvbHVrcy1oZWxwZXJzLnNoCgpsb2dJbmZvICJTaHV0dGluZyBkb3duIG9yIHJlYm9vdGluZyIKaW5pdFVwZ3JhZGVEZXRlY3Rpb25NZXRob2RzCmlmIGlzU3lzdGVtVXBkYXRpbmc7IHRoZW4KCWxvZ0luZm8gIlN5c3RlbSBIVyB1cGRhdGUgZGV0ZWN0ZWQsIGRpc2FibGluZyBQQ1IgcHJvdGVjdGlvbiBvbiBhbGwgUENSIHByb3RlY3RlZCBMVUtTIHBhcnRpdGlvbnMiCglwcm9jZXNzUENSZW50cmllc09ubHkgYWRkUmVzZXJ2ZWRTbG90CglleGl0IDAKZmkKCmxvZ0luZm8gIk5vIFN5c3RlbSBIVyB1cGRhdGUgZGV0ZWN0ZWQsIGNvbnRpbnVlIgo=
        mode: 493
        path: /usr/local/bin/disablePcrOnRebootOrShutdown.sh
      - contents:
          source: data:text/plain;charset=utf-8;base64,IyEvYmluL2Jhc2gKc2V0IC1vIGVycmV4aXQgLW8gbm91bnNldCAtbyBwaXBlZmFpbAoKU0NSSVBUX0RJUj0kKGRpcm5hbWUgIiQwIikKIyBzaGVsbGNoZWNrIHNvdXJjZT1sdWtzLWhlbHBlcnMuc2gKc291cmNlICIkU0NSSVBUX0RJUiIvbHVrcy1oZWxwZXJzLnNoCiNzZXQgLXgKCmxvZ0luZm8gImJvb3RpbmcuLi4gY2hlY2tpbmcgaWYgcmViaW5kaW5nIGRpc2sgbmVlZGVkIgpwcm9jZXNzUENSZW50cmllc09ubHkgcmViaW5kUENSZW50cmllc09ubHkK
        mode: 493
        path: /usr/local/bin/rebindDiskOnBoot.sh
      - contents:
          source: data:text/plain;charset=utf-8;base64,IyEvYmluL2Jhc2gKc2V0IC1vIGVycmV4aXQgLW8gbm91bnNldCAtbyBwaXBlZmFpbAoKaXNDdXN0b21GaWxlVXBkYXRpbmcoKSB7CglpZiBbIC1mICIvZXRjL2hvc3QtaHctVXBkYXRpbmcuZmxhZyIgXTsgdGhlbgoJCXJldHVybiAiJFRSVUUiCgllbHNlCgkJcmV0dXJuICIkRkFMU0UiCglmaQp9CgojIEFkZCBhIG5ldyBmdW5jdGlvbiB0byB0aGUgYXJyYXkgb2YgdXBkYXRlIGRldGVjdGlvbiBtZXRob2RzCnNlcnZlclVwZGF0ZURldGVjdGlvbk1ldGhvZHMrPSgiaXNDdXN0b21GaWxlVXBkYXRpbmciKQo=
        mode: 493
        path: /usr/local/bin/hwupgrade-detection-methods/file.sh
      - contents:
          source: data:text/plain;charset=utf-8;base64,IyEvYmluL2Jhc2gKc2V0IC1vIGVycmV4aXQgLW8gbm91bnNldCAtbyBwaXBlZmFpbAoKaXNGd3VwVXBkYXRpbmcoKSB7Cglsb2NhbCBFRkkgTkVYVF9CT09UCgoJRUZJPSQoZWZpYm9vdG1ncikKCU5FWFRfQk9PVD0kKGVjaG8gIiRFRkkiIHwgZ3JlcCAiQm9vdE5leHQ6IiB8IGF3ayAneyBwcmludCAkMiB9JykKCWlmIFsgIiRORVhUX0JPT1QiID09ICIiIF07IHRoZW4KCQlyZXR1cm4gMQoJZmkKCWVjaG8gIiRFRkkiIHwgZ3JlcCAiQm9vdCRORVhUX0JPT1QiIHwgZ3JlcCAiZnd1cGQiCgkjIGlmIHRoZSBuZXh0IGJvb3QgbGluZSBjb250YWlucyB0aGUgdGV4dCAiZnd1cGQiCglpZiBbICQ/IF07IHRoZW4KCQlyZXR1cm4gIiRUUlVFIgoJZmkKCXJldHVybiAiJEZBTFNFIgp9CgojIEFkZCBhIG5ldyBmdW5jdGlvbiB0byB0aGUgYXJyYXkgb2YgdXBkYXRlIGRldGVjdGlvbiBtZXRob2RzCnNlcnZlclVwZGF0ZURldGVjdGlvbk1ldGhvZHMrPSgiaXNGd3VwVXBkYXRpbmciKQo=
        mode: 493
        path: /usr/local/bin/hwupgrade-detection-methods/fwup.sh
      - contents:
          source: data:text/plain;charset=utf-8;base64,IyEvYmluL2Jhc2gKc2V0IC1vIGVycmV4aXQgLW8gbm91bnNldCAtbyBwaXBlZmFpbAoKaXNPc3RyZWVVcGRhdGluZygpIHsKCWxvY2FsIFJFU1VMVAoKCVJFU1VMVD0kKG9zdHJlZSBhZG1pbiBzdGF0dXMgfCBncmVwIC1FICJzdGFnZWR8cGVuZGluZyIpCglpZiBbICIkUkVTVUxUIiAhPSAiIiBdOyB0aGVuCgkJcmV0dXJuICIkVFJVRSIKCWVsc2UKCQlyZXR1cm4gIiRGQUxTRSIKCWZpCn0KCiMgQWRkIGEgbmV3IGZ1bmN0aW9uIHRvIHRoZSBhcnJheSBvZiB1cGRhdGUgZGV0ZWN0aW9uIG1ldGhvZHMKc2VydmVyVXBkYXRlRGV0ZWN0aW9uTWV0aG9kcys9KCJpc09zdHJlZVVwZGF0aW5nIikK
        mode: 493
        path: /usr/local/bin/hwupgrade-detection-methods/ostree.sh
      - contents:
          source: data:text/plain;charset=utf-8;base64,IyEvYmluL2Jhc2gKc2V0IC1vIGVycmV4aXQgLW8gbm91bnNldCAtbyBwaXBlZmFpbAoKU1BPS0VfS1VCRUNPTkZJR19QQVRIPS9ldGMva3ViZXJuZXRlcy9zdGF0aWMtcG9kLXJlc291cmNlcy9rdWJlLWFwaXNlcnZlci1jZXJ0cy9zZWNyZXRzL25vZGUta3ViZWNvbmZpZ3MvbGItaW50Lmt1YmVjb25maWcKSFVCX1NFQ1JFVF9OQU1FU1BBQ0U9b3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQtYWdlbnQKSFVCX1NFQ1JFVF9OQU1FPWh1Yi1rdWJlY29uZmlnLXNlY3JldAoKIyByZXRyaWV2ZXMgdGhlIGt1YmVjb25maWcgZm9yIHRoaXMgc3Bva2UncyBjbHVzdGVyCmdldEh1Ykt1YmVjb25maWcoKSB7Cglsb2NhbCBrdWJlQ29uZmlnUGF0aCBuYW1lc3BhY2Ugc2VjcmV0TmFtZSBLVUJFQ09ORklHX0RBVEEgVExTX0tFWSBUTFNfQ1JUCgoJa3ViZUNvbmZpZ1BhdGg9IiQxIgoJbmFtZXNwYWNlPSIkMiIKCXNlY3JldE5hbWU9IiQzIgoJS1VCRUNPTkZJR19EQVRBPSQob2MgLS1rdWJlY29uZmlnICIka3ViZUNvbmZpZ1BhdGgiIGdldCBzZWNyZXQgLW4gIiRuYW1lc3BhY2UiICIkc2VjcmV0TmFtZSIgLW8ganNvbiB8IGpxIC5kYXRhLmt1YmVjb25maWcgfCBzZWQgJ3MvIi8vZycgfCBiYXNlNjQgLWQpCglpZiBbIC16ICIkS1VCRUNPTkZJR19EQVRBIiBdOyB0aGVuCgkJcmV0dXJuICIkRkFMU0UiCglmaQoJVExTX0tFWT0kKG9jIC0ta3ViZWNvbmZpZyAiJGt1YmVDb25maWdQYXRoIiBnZXQgc2VjcmV0IC1uICIkbmFtZXNwYWNlIiAiJHNlY3JldE5hbWUiIC1vIGpzb24gfCBqcSAnLmRhdGEuInRscy5rZXkiJyB8IHNlZCAncy8iLy9nJykKCVRMU19DUlQ9JChvYyAtLWt1YmVjb25maWcgIiRrdWJlQ29uZmlnUGF0aCIgZ2V0IHNlY3JldCAtbiAiJG5hbWVzcGFjZSIgIiRzZWNyZXROYW1lIiAtbyBqc29uIHwganEgJy5kYXRhLiJ0bHMuY3J0IicgfCBzZWQgJ3MvIi8vZycpCgllY2hvICIkS1VCRUNPTkZJR19EQVRBIiB8IHNlZCAtZSAicy9jbGllbnQtY2VydGlmaWNhdGU6IHRscy5jcnQvY2xpZW50LWNlcnRpZmljYXRlLWRhdGE6ICRUTFNfQ1JUL2ciIHwgc2VkIC1lICJzL2NsaWVudC1rZXk6IHRscy5rZXkvY2xpZW50LWtleS1kYXRhOiAkVExTX0tFWS9nIiA+L3RtcC9rdWJlY29uZmlnLWh1YgoJcmV0dXJuICIkVFJVRSIKfQoKIyBSZXRyZWl2ZXMgVEFMTSdzIHN0YXRlIGluIHRoZSBodWIgY2x1c3RlcidzIG1hbmFnZWRDbHVzdGVyIG9iamVjdC4gVGFrZXMgb25lIGFyZ3VtZW50OgojIGRvbmUgLT4gcmV0dXJuICRUUlVFIGlmIHRoZSB6dHAtZG9uZSBsYWJlbCBpcyBzZXQsICRGQUxTRSBvdGhlcndpc2UKIyBydW5uaW5nIC0+IHJldHVybiAkVFJVRSBpZiB0aGUgenRwLXJ1bm5pbmcgbGFiZWwgaXMgc2V0LCAkRkFMU0Ugb3RoZXJ3aXNlCmlzWnRwU3RhdGUoKSB7Cglsb2NhbCB0YWxtU3RhdGUgUkVTVUxUCgoJdGFsbVN0YXRlPSIkMSIKCVJFU1VMVD0kRkFMU0UKCgljbHVzdGVyTmFtZT0kKG9jIC0ta3ViZWNvbmZpZyAiJFNQT0tFX0tVQkVDT05GSUdfUEFUSCIgZ2V0IGtsdXN0ZXJsZXQga2x1c3RlcmxldCAtb2pzb25wYXRoPSd7LnNwZWMuY2x1c3Rlck5hbWV9JykKCWNhc2UgIiR0YWxtU3RhdGUiIGluCgkicnVubmluZyIpCgkJUkVTVUxUPSQoS1VCRUNPTkZJRz0vdG1wL2t1YmVjb25maWctaHViIG9jIGdldCBtYW5hZ2VkY2x1c3RlciAiJGNsdXN0ZXJOYW1lIiAtb2pzb24gfCBqcSAnLm1ldGFkYXRhLmxhYmVsc1sienRwLXJ1bm5pbmciXSE9bnVsbCcpCgkJOzsKCSJkb25lIikKCQlSRVNVTFQ9JChLVUJFQ09ORklHPS90bXAva3ViZWNvbmZpZy1odWIgb2MgZ2V0IG1hbmFnZWRjbHVzdGVyICIkY2x1c3Rlck5hbWUiIC1vanNvbiB8IGpxICcubWV0YWRhdGEubGFiZWxzWyJ6dHAtZG9uZSJdIT1udWxsJykKCQk7OwoJKikKCQkjIENvZGUgdG8gZXhlY3V0ZSB3aGVuIG5vIHBhdHRlcm5zIG1hdGNoCgkJOzsKCWVzYWMKCWlmIFsgIiRSRVNVTFQiID09ICJmYWxzZSIgXTsgdGhlbgoJCWxvZ0RlYnVnICJUQUxNICR0YWxtU3RhdGUgc3RhdGUgaXMgJFJFU1VMVCIKCQlyZXR1cm4gIiRGQUxTRSIKCWZpCglsb2dEZWJ1ZyAiVEFMTSAkdGFsbVN0YXRlIHN0YXRlIGlzICRSRVNVTFQiCglyZXR1cm4gIiRUUlVFIgp9Cgppc1RBTE1VcGRhdGluZygpIHsKCWlmICEgZ2V0SHViS3ViZWNvbmZpZyAkU1BPS0VfS1VCRUNPTkZJR19QQVRIICRIVUJfU0VDUkVUX05BTUVTUEFDRSAkSFVCX1NFQ1JFVF9OQU1FOyB0aGVuCgkJbG9nSW5mbyAiVEFMTSBub3QgYXZhaWxhYmxlIG9yIGh1YiBrdWJlY29uZmlnIGlzIG5vIHJlYWR5IHlldCBhdCAkU1BPS0VfS1VCRUNPTkZJR19QQVRIIHBhdGgsIGNhbm5vdCBnZXQgc3Bva2Ugc2VjcmV0ICRIVUJfU0VDUkVUX05BTUUgaW4gJEhVQl9TRUNSRVRfTkFNRVNQQUNFIG5hbWVzcGFjZSIKCQlyZXR1cm4gIiRGQUxTRSIKCWZpCglpc1p0cFN0YXRlICJydW5uaW5nIgoJcmV0dXJuICQ/Cn0KCiMgQWRkIGEgbmV3IGZ1bmN0aW9uIHRvIHRoZSBhcnJheSBvZiB1cGRhdGUgZGV0ZWN0aW9uIG1ldGhvZHMKc2VydmVyVXBkYXRlRGV0ZWN0aW9uTWV0aG9kcys9KCJpc1RBTE1VcGRhdGluZyIpCg==
        mode: 493
        path: /usr/local/bin/hwupgrade-detection-methods/talm.sh
      - contents:
          source: data:text/plain;charset=utf-8;base64,IyBUaGlzIHVuaXQgZW5zdXJlcyB0aGF0IGNvbnRhaW5lcnMgc3RheSB1cCBvbiBzaHV0ZG93biB1bnRpbCB0aGUgcGNyLWRpc2FibGUtc2h1dGRvd24gc2VydmljZSBpcyBhYmxlIHRvIHJ1biAKW1VuaXRdCkJlZm9yZT1wY3ItZGlzYWJsZS1zaHV0ZG93bi5zZXJ2aWNlCg==
        mode: 420
        path: /etc/systemd/system/crio-.scope.d/order.conf
    systemd:
      units:
      - contents: |
          [Unit]
          After=cryptsetup.target systemd-boot-update.service
          Requires=cryptsetup.target systemd-boot-update.service
          [Service]
          Type=oneshot
          ExecStart=/usr/local/bin/rebindDiskOnBoot.sh
          [Install]
          RequiredBy=sysinit.target
        enabled: true
        name: pcr-rebind-boot.service
      - contents: |
          [Service]
          Type=oneshot
          RemainAfterExit=true
          ExecStop=/usr/local/bin/disablePcrOnRebootOrShutdown.sh

          [Install]
          WantedBy=multi-user.target
        enabled: true
        name: pcr-disable-shutdown.service
